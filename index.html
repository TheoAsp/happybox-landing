<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>my Happy Box ‚Äî Kalavryta Edition</title>

<style>
  :root{
    --brand:#ff7a00; --brand-soft:#ffb84d;
    --bg1:#fef9f5; --bg2:#fff6eb; --ink:#333; --muted:#555; --ink2:#222;
    --ok:#1f9d55; --warn:#e2a61f; --err:#d33c3c;
  }
  *{box-sizing:border-box}
  body{ margin:0; font-family:"Segoe UI",system-ui,-apple-system,Arial,sans-serif;
    background:linear-gradient(135deg,var(--bg1),var(--bg2)); color:var(--ink); overflow-x:hidden; }

  .confetti{ position:fixed; inset:0; pointer-events:none; opacity:.18;
    background:
      radial-gradient(circle at 10% 20%, #ff7a00 2px, transparent 3px) 0 0/120px 120px,
      radial-gradient(circle at 80% 30%, #ffb84d 2px, transparent 3px) 0 0/140px 140px,
      radial-gradient(circle at 30% 80%, #ffd699 2px, transparent 3px) 0 0/160px 160px;
    animation: floaty 14s linear infinite; }
  @keyframes floaty{from{transform:translateY(0)}to{transform:translateY(-120px)}}

  header{ text-align:center; padding:56px 20px 24px; animation:drop .8s ease forwards; }
  @keyframes drop{from{opacity:0; transform:translateY(-24px)}to{opacity:1; transform:translateY(0)}}

  .title{ margin:0; font-size:clamp(32px,6vw,56px); color:var(--brand);
    letter-spacing:.4px; display:flex; align-items:center; justify-content:center; gap:.35rem; }
  .title .my{ font-weight:700; font-size:.68em; color:#9a9a9a; margin-right:.15rem }
  .gift{ font-size:.9em; filter:drop-shadow(0 2px 2px rgba(0,0,0,.08)); }
  .edition{ margin:.25rem 0 0; font-size:clamp(14px,2.6vw,20px); color:var(--brand-soft);
    font-style:italic; display:inline-block; transform:rotate(-2deg);
    background:#fff; padding:6px 12px; border:1px dashed #ffd3a1; border-radius:999px; }
  .sub{ margin:14px auto 0; max-width:940px; font-size:clamp(14px,2.1vw,18px);
    color:var(--muted); line-height:1.55; text-align:center; padding:0 16px; }

  .controls{ display:flex; gap:10px; justify-content:center; flex-wrap:wrap; margin-top:10px }
  .chip{ display:flex; align-items:center; gap:8px; background:#fff; border:1px solid #eee;
    padding:8px 12px; border-radius:12px; box-shadow:0 4px 12px rgba(0,0,0,.06); font-size:14px; }
  .chip select{ border:1px solid #e6e6e6; border-radius:10px; padding:6px 10px }

  .hero-wrap{ display:flex; justify-content:center; padding:22px 16px 10px; }
  .hero-frame{ width:min(1020px,90vw); height:clamp(260px,48vw,560px);
    background:#fff; border:10px solid #fff; border-radius:18px; box-shadow:0 12px 36px rgba(0,0,0,.14);
    position:relative; overflow:hidden; }
  .hero-img{ position:absolute; inset:0; width:100%; height:100%; object-fit:contain;
    background:#fff; transition:opacity .5s ease; }
  .badge{ position:absolute; top:10px; left:10px; background:rgba(255,255,255,.9);
    color:#444; font-size:12px; padding:4px 8px; border-radius:999px; backdrop-filter:blur(6px); }
  .nav{ position:absolute; top:50%; transform:translateY(-50%); width:42px; height:42px; border-radius:50%;
    background:rgba(255,255,255,.9); display:grid; place-items:center; box-shadow:0 4px 16px rgba(0,0,0,.15);
    cursor:pointer; user-select:none; } .nav:hover{ filter:brightness(1.03) }
  .nav.prev{ left:10px } .nav.next{ right:10px }

  /* animated fox banner */
  .fox-banner{ display:flex; justify-content:center; margin:30px auto; }
  .fox-banner img{ width:300px; height:auto; border-radius:14px;
    animation:bounce 2.8s infinite ease-in-out; box-shadow:0 6px 20px rgba(0,0,0,.1); }
  @keyframes bounce{ 0%,100%{ transform:translateY(0)} 50%{ transform:translateY(-10px)} }

  .quests{ max-width:min(1060px,92vw); margin:32px auto; padding:6px; }
  .card{ background:#fff; border-radius:14px; padding:16px; box-shadow:0 8px 24px rgba(0,0,0,.08); margin-bottom:14px; }
  .card h3{ margin:4px 0 6px; font-size:20px } .card p{ margin:0 0 12px; color:#666 }
  .row{ display:flex; gap:8px; align-items:center; margin:8px 0; flex-wrap:wrap }
  .row input[type="text"], .row input[type="email"]{ flex:1; min-width:220px; padding:10px 12px; border:1px solid #e6e6e6; border-radius:10px; font-size:15px; }
  .btn{ appearance:none; border:none; cursor:pointer; color:#fff; background:var(--brand);
    padding:10px 14px; border-radius:10px; font-weight:700; box-shadow:0 8px 20px rgba(255,122,0,.3); }
  .btn.alt{ background:#444 } .btn.ghost{ background:#fff; color:#333; border:1px solid #ddd }
  .pill{ display:inline-flex; align-items:center; gap:6px; padding:6px 10px; border-radius:999px; font-size:13px; font-weight:600; margin:3px 6px 0 0 }
  .ok{ background:#eaf7f0; color:var(--ok) } .warn{ background:#fff6e0; color:var(--warn) } .err{ background:#fdecec; color:var(--err) }
  .status{ margin-top:6px; font-size:14px; color:#666 }
</style>
</head>
<body>
  <div class="confetti" aria-hidden="true"></div>

  <header>
    <h1 class="title"><span class="my">my</span> Happy Box <span class="gift">üéÅ</span></h1>
    <div class="edition" data-i18n="edition">Kalavryta Edition</div>
    <p class="sub" data-i18n="intro">
      A joyful mini-game for travelers! Follow the fox, complete quests around Kalavryta and level-up your reward.  
      Unlock one of <strong>1,000 digital souvenirs in NFT form</strong> ‚Äî the rarer your tier, the rarer your gift. Participation is free! Don‚Äôt wait a moment... Have fun, explore, win!
    </p>

    <div class="controls">
      <div class="chip">
        <label for="userEmail" style="font-size:14px;margin-right:6px">Email:</label>
        <input type="email" id="userEmail" placeholder="you@example.com" style="border:1px solid #e6e6e6;border-radius:10px;padding:6px 10px;min-width:220px">
      </div>

      <div class="chip">
        <span data-i18n="lang.label">Language:</span>
        <select id="langSelect" aria-label="Language">
          <option value="en">English</option>
          <option value="el">ŒïŒªŒªŒ∑ŒΩŒπŒ∫Œ¨</option>
        </select>
      </div>
    </div>
  </header>
  <section class="hero-wrap">
    <div class="hero-frame" id="heroFrame">
      <div class="badge" data-i18n="slider.badge">NFT Preview</div>
      <img id="heroImg" class="hero-img" src="public/photos/2.png" alt="NFT Preview" />
      <div class="nav prev" id="prevBtn" aria-label="Previous">‚Äπ</div>
      <div class="nav next" id="nextBtn" aria-label="Next">‚Ä∫</div>
    </div>
  </section>

  <!-- Fox banner (ŒºŒπŒ∫œÅŒÆ ¬´œÄŒ±ŒπœáŒΩŒπŒ¥ŒπŒ¨œÅŒπŒ∫Œ∑¬ª Œ∫ŒØŒΩŒ∑œÉŒ∑) -->
  <div class="fox-banner">
    <img src="public/photos/fox.png" alt="Happy Fox mascot" />
  </div>

  <section class="quests">
    <!-- ===== Stage 1 ===== -->
    <div class="card" id="s1Card">
      <h3 data-i18n="s1.title">Stage 1 ‚Äî Warm-up (üéØ complete 3/3)</h3>
      <p data-i18n="s1.desc">You need: 1 social + 1 shop + <strong>1 of the attractions</strong> (extra attractions = bonus).</p>

      <!-- Social -->
      <div class="row"><span data-i18n="social.label">üì∏ Post with hashtag #myhappybox</span></div>
      <div class="row">
        <input type="text" id="s1PostUrl" placeholder="Public post URL (e.g. Instagram)">
        <button class="btn" id="s1PostBtn" data-i18n="btn.submit">Submit link</button>
      </div>
      <div class="status" id="s1PostStatus"></div>

      <!-- Shop -->
      <div class="row" style="margin-top:10px"><span data-i18n="shops.s1">üè™ Partner Shop (Stage 1)</span></div>
      <div class="row" style="gap:6px;flex-wrap:wrap">
        <input type="text" id="s1Qr" placeholder="Enter QR code (hidden)">
        <button class="btn" id="s1QrBtn" data-i18n="btn.verify">Verify QR</button>
        <button class="btn ghost" id="s1ScanBtn">üì∑ Scan QR</button>
      </div>
      <div class="status" id="s1QrStatus"></div>

      <!-- Attractions -->
      <div class="row" style="margin-top:10px"><span data-i18n="attr.pick">üó∫Ô∏è Attractions ‚Äî pick at least one:</span></div>
      <div class="row" id="s1AttrList"></div>
      <div class="row"><button class="btn ghost" id="s1AttrBtn" data-i18n="btn.markVisited">Mark visited</button></div>
      <div class="status" id="s1AttrStatus"></div>
    </div>

    <!-- ===== Stage 2 ===== -->
    <div class="card" id="s2Card">
      <h3 data-i18n="s2.title">Stage 2 ‚Äî Explore more (üéØ complete 3/3)</h3>
      <p data-i18n="s2.desc">Requires Stage 1 complete. You need: 2 shops + <strong>1 of the attractions</strong> (extras = bonus).</p>

      <!-- Shops -->
      <div class="row"><span data-i18n="shops.s2">üè™ Partner Shops (Stage 2)</span></div>
      <div class="row" style="gap:6px;flex-wrap:wrap">
        <input type="text" id="s2QrA" placeholder="QR code Shop 2A (hidden)">
        <button class="btn" id="s2QrBtnA">Verify 2A</button>
        <button class="btn ghost" id="s2ScanABtn">üì∑ Scan 2A</button>

        <input type="text" id="s2QrB" placeholder="QR code Shop 2B (hidden)">
        <button class="btn" id="s2QrBtnB">Verify 2B</button>
        <button class="btn ghost" id="s2ScanBBtn">üì∑ Scan 2B</button>
      </div>
      <div class="status" id="s2QrStatus"></div>

      <!-- Attractions -->
      <div class="row" style="margin-top:10px"><span data-i18n="attr.pick">üó∫Ô∏è Attractions ‚Äî pick at least one:</span></div>
      <div class="row" id="s2AttrList" style="gap:14px; align-items:flex-start"></div>
      <div class="row"><button class="btn ghost" id="s2AttrBtn" data-i18n="btn.markVisited">Mark visited</button></div>
      <div class="status" id="s2AttrStatus"></div>
    </div>

    <!-- ===== Stage 3 ===== -->
    <div class="card" id="s3Card">
      <h3 data-i18n="s3.title">Stage 3 ‚Äî The finale (üéØ complete 4/4)</h3>
      <p data-i18n="s3.desc">Requires Stage 2 complete. You need: 3 shops + <strong>1 of the attractions</strong> (extras = bonus).</p>

      <!-- Shops -->
      <div class="row"><span data-i18n="shops.s3">üè™ Partner Shops (Stage 3)</span></div>
      <div class="row" style="gap:6px;flex-wrap:wrap">
        <input type="text" id="s3QrA" placeholder="QR for Shop 3A (hidden)">
        <button class="btn" id="s3QrBtnA">Verify 3A</button>
        <button class="btn ghost" id="s3ScanABtn">üì∑ Scan 3A</button>

        <input type="text" id="s3QrB" placeholder="QR for Shop 3B (hidden)">
        <button class="btn" id="s3QrBtnB">Verify 3B</button>
        <button class="btn ghost" id="s3ScanBBtn">üì∑ Scan 3B</button>

        <input type="text" id="s3QrC" placeholder="QR for Shop 3C (hidden)">
        <button class="btn" id="s3QrBtnC">Verify 3C</button>
        <button class="btn ghost" id="s3ScanCBtn">üì∑ Scan 3C</button>
      </div>
      <div class="status" id="s3QrStatus"></div>

      <!-- Attractions -->
      <div class="row" style="margin-top:10px"><span data-i18n="attr.pick">üó∫Ô∏è Attractions ‚Äî pick at least one:</span></div>
      <div class="row" id="s3AttrList" style="flex-direction:column; align-items:flex-start"></div>
      <div class="row"><button class="btn ghost" id="s3AttrBtn" data-i18n="btn.markVisited" style="margin-top:6px">Mark visited</button></div>
      <div class="status" id="s3AttrStatus"></div>
    </div>

    <!-- ===== Progress ===== -->
    <div class="card" id="progressCard">
      <h3 data-i18n="progress.title">Your Progress</h3>

      <div class="overall" style="margin:8px 0 10px">
        <div class="meter"><span id="overallFill"></span></div>
        <div class="pct" id="overallPct">0%</div>
      </div>

      <div id="progressPills" class="row" style="flex-wrap:wrap"></div>
      <p class="status" id="tierLine">Tier: ‚Äî</p>
      <div class="row">
        <button class="btn alt" id="resetBtn" data-i18n="btn.reset">Reset demo</button>
        <button class="btn" id="claimBtn">üéÅ <span data-i18n="btn.claim">Claim your Happy Box</span></button>
      </div>
      <p class="status" data-i18n="claim.note">
        Claim becomes available once you complete <strong>Stage 1</strong>.
        You can keep playing for rarer tiers!
      </p>
    </div>
  </section>

  <section class="cta">
    <h2 data-i18n="cta.title">Explore ‚Ä¢ Play ‚Ä¢ Win</h2>
    <p data-i18n="cta.desc">
      It‚Äôs a friendly treasure-hunt across Kalavryta. Finish Stage 1 to unlock Stage 2 and go for rarer rewards!
    </p>
    <button id="mintInfoBtn" class="btn" data-i18n="btn.howClaim">How claiming works</button>
  </section>

  <footer>¬© 2025 Happy Box. All rights reserved.</footer>

  <!-- Modal -->
  <div id="modal" class="modal" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
    <div class="modal-card">
      <h3 id="modalTitle">Claiming</h3>
      <div id="modalBody"></div>
      <p class="mini" data-i18n="claim.mini">Your tier is calculated automatically from your completed quests.</p>
      <button class="close" id="closeModal" data-i18n="btn.close">Close</button>
    </div>
  </div>

  <!-- Victory overlay -->
  <div id="victory" aria-hidden="true" style="display:none">
    <div class="victory-card">
      <div class="confetti-fx" id="confettiFx"></div>
      <div class="trophy">üèÜ</div>
      <h2 data-i18n="victory.title">All quests complete!</h2>
      <p data-i18n="victory.desc">You‚Äôve reached 100% progress. Time to claim your top reward! üéâ</p>
      <button class="btn" id="victoryClose" data-i18n="btn.awesome">Awesome!</button>
    </div>
  </div>
<!-- Scripts -->
  <script type="module">
  import QrScanner from "https://unpkg.com/qr-scanner@1.4.2/qr-scanner.min.js";

  /* ========= constants ========= */
  const LS_KEY='hb_demo_progress_v5';
  const LS_VICTORY='hb_demo_victory_once';
  const LS_LANG='hb_demo_lang';
  const LS_UID_APP='hb_uid_v1';
  const LS_EMAIL_APP='hb_email_v1';

  /* ========= UID & Email helpers ========= */
  function ensureUid(){
    let uid=localStorage.getItem(LS_UID_APP);
    if(!uid){
      const rnd=(crypto&&crypto.getRandomValues)?crypto.getRandomValues(new Uint8Array(16)):null;
      uid = rnd ? Array.from(rnd).map(x=>x.toString(16).padStart(2,'0')).join('') : String(Date.now())+Math.random().toString(16).slice(2);
      localStorage.setItem(LS_UID_APP,uid);
    }
    return uid;
  }
  function getEmail(){
    const el=document.getElementById('userEmail');
    return (el&&el.value?el.value:localStorage.getItem(LS_EMAIL_APP)||'').trim().toLowerCase();
  }
  function setEmail(v){
    localStorage.setItem(LS_EMAIL_APP,(v||'').trim().toLowerCase());
    const el=document.getElementById('userEmail'); if(el) el.value=(v||'');
  }
  document.addEventListener('DOMContentLoaded',()=>{ 
    const saved=localStorage.getItem(LS_EMAIL_APP)||''; 
    const el=document.getElementById('userEmail'); 
    if(el){ el.value=saved; el.addEventListener('input',()=>setEmail(el.value)); } 
  });
  const EMAIL_RE=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;

  /* ========= i18n ========= */
  const T = {
    en:{
      edition:"Kalavryta Edition",
      intro:"A joyful mini-game for travelers! Follow the fox, complete quests around Kalavryta and level-up your reward. Unlock one of <strong>1,000 digital souvenirs in NFT form</strong> ‚Äî the higher your tier, the rarer your gift. Participation is free! Don‚Äôt wait a moment‚Ä¶ Have fun, explore, win!",
      "lang.label":"Language:",
      "slider.badge":"NFT Preview",
      "s1.title":"Stage 1 ‚Äî Warm-up (üéØ complete 3/3)",
      "s1.desc":"You need: 1 social + 1 shop + <strong>1 of the attractions</strong> (extra attractions = bonus).",
      "s2.title":"Stage 2 ‚Äî Explore more (üéØ complete 3/3)",
      "s2.desc":"Requires Stage 1 complete. You need: 2 shops + <strong>1 of the attractions</strong> (extras = bonus).",
      "s3.title":"Stage 3 ‚Äî The finale (üéØ complete 4/4)",
      "s3.desc":"Requires Stage 2 complete. You need: 3 shops + <strong>1 of the attractions</strong> (extras = bonus).",
      "social.label":"üì∏ Post with hashtag #myhappybox",
      "shops.s1":"üè™ Partner Shop (Stage 1)",
      "shops.s2":"üè™ Partner Shops (Stage 2)",
      "shops.s3":"üè™ Partner Shops (Stage 3)",
      "attr.pick":"üó∫Ô∏è Attractions ‚Äî pick at least one:",
      "btn.submit":"Submit link",
      "btn.verify":"Verify QR",
      "btn.markVisited":"Mark visited",
      "btn.reset":"Reset demo",
      "btn.claim":"Claim your Happy Box",
      "btn.howClaim":"How claiming works",
      "btn.close":"Close",
      "btn.awesome":"Awesome!",
      "progress.title":"Your Progress",
      "claim.note":"Claim becomes available once you complete <strong>Stage 1</strong>. You can keep playing for rarer tiers!",
      "claim.mini":"Your tier is calculated automatically from your completed quests.",
      "victory.title":"All quests complete!",
      "victory.desc":"You‚Äôve reached 100% progress. Time to claim your top reward! üéâ",
      "cta.title":"Explore ‚Ä¢ Play ‚Ä¢ Win",
      "cta.desc":"It‚Äôs a friendly treasure-hunt across Kalavryta. Finish Stage 1 to unlock Stage 2 and go for rarer rewards!"
    },
    el:{
      edition:"Kalavryta Edition",
      intro:"ŒàŒΩŒ± œáŒ±œÅŒøœçŒºŒµŒΩŒø mini-game Œ≥ŒπŒ± œÑŒ±ŒæŒπŒ¥ŒπœéœÑŒµœÇ! ŒëŒ∫ŒøŒªŒøœçŒ∏Œ∑œÉŒµ œÑŒ∑ŒΩ Œ±ŒªŒµœÄŒøœç, Œ∫Œ¨ŒΩŒµ quests œÉœÑŒ± ŒöŒ±ŒªŒ¨Œ≤œÅœÖœÑŒ± Œ∫Œ±Œπ Œ±ŒΩŒ≠Œ≤Œ±œÉŒµ œÑŒø reward œÉŒøœÖ. ŒöŒªŒµŒØŒ¥œâœÉŒµ Œ≠ŒΩŒ± Œ±œÄœå œÑŒ± <strong>1.000 œÉœÖŒªŒªŒµŒ∫œÑŒπŒ∫Œ¨ œàŒ∑œÜŒπŒ±Œ∫Œ¨ Œ±ŒΩŒ±ŒºŒΩŒ∑œÉœÑŒπŒ∫Œ¨ œÉŒµ ŒºŒøœÅœÜŒÆ NFT</strong> ‚Äî œåœÉŒø œÄŒπŒø œÖœàŒ∑Œªœå tier, œÑœåœÉŒø œÄŒπŒø œÉœÄŒ¨ŒΩŒπŒø œÑŒø Œ¥œéœÅŒø œÉŒøœÖ. Œó œÉœÖŒºŒºŒµœÑŒøœáŒÆ ŒµŒØŒΩŒ±Œπ Œ¥œâœÅŒµŒ¨ŒΩ! ŒúŒ∑ŒΩ œÄŒµœÅŒπŒºŒ≠ŒΩŒµŒπœÇ œÉœÑŒπŒ≥ŒºŒÆ‚Ä¶ ŒîŒπŒ±œÉŒ∫Œ≠Œ¥Œ±œÉŒµ, ŒµŒæŒµœÅŒµœçŒΩŒ∑œÉŒµ, Œ∫Œ≠œÅŒ¥ŒπœÉŒµ!",
      "lang.label":"ŒìŒªœéœÉœÉŒ±:",
      "slider.badge":"NFT Preview",
      "s1.title":"Œ£œÑŒ¨Œ¥ŒπŒø 1 ‚Äî ŒñŒ≠œÉœÑŒ±ŒºŒ± (üéØ 3/3)",
      "s1.desc":"ŒßœÅŒµŒπŒ¨Œ∂ŒµœÉŒ±Œπ: 1 social + 1 Œ∫Œ±œÑŒ¨œÉœÑŒ∑ŒºŒ± + <strong>1 Œ±œÄœå œÑŒ± Œ±ŒæŒπŒøŒ∏Œ≠Œ±œÑŒ±</strong> (Œ≠ŒæœÑœÅŒ± Œ±ŒæŒπŒøŒ∏Œ≠Œ±œÑŒ± = bonus).",
      "s2.title":"Œ£œÑŒ¨Œ¥ŒπŒø 2 ‚Äî Œ†ŒµœÅŒπœÉœÉœåœÑŒµœÅŒ∑ ŒµŒæŒµœÅŒµœçŒΩŒ∑œÉŒ∑ (üéØ 3/3)",
      "s2.desc":"ŒëœÄŒ±ŒπœÑŒµŒØœÑŒ±Œπ ŒøŒªŒøŒ∫ŒªŒÆœÅœâœÉŒ∑ Œ£œÑŒ±Œ¥ŒØŒøœÖ 1. ŒòŒ≠ŒªŒµŒπœÇ: 2 Œ∫Œ±œÑŒ±œÉœÑŒÆŒºŒ±œÑŒ± + <strong>1 Œ±œÄœå œÑŒ± Œ±ŒæŒπŒøŒ∏Œ≠Œ±œÑŒ±</strong> (Œ≠ŒæœÑœÅŒ± = bonus).",
      "s3.title":"Œ£œÑŒ¨Œ¥ŒπŒø 3 ‚Äî Œ§ŒµŒªŒπŒ∫œåœÇ (üéØ 4/4)",
      "s3.desc":"ŒëœÄŒ±ŒπœÑŒµŒØœÑŒ±Œπ ŒøŒªŒøŒ∫ŒªŒÆœÅœâœÉŒ∑ Œ£œÑŒ±Œ¥ŒØŒøœÖ 2. ŒòŒ≠ŒªŒµŒπœÇ: 3 Œ∫Œ±œÑŒ±œÉœÑŒÆŒºŒ±œÑŒ± + <strong>1 Œ±œÄœå œÑŒ± Œ±ŒæŒπŒøŒ∏Œ≠Œ±œÑŒ±</strong> (Œ≠ŒæœÑœÅŒ± = bonus).",
      "social.label":"üì∏ ŒëŒΩŒ≠Œ≤Œ±œÉŒµ post ŒºŒµ #myhappybox",
      "shops.s1":"üè™ Œ£œÖŒΩŒµœÅŒ≥Œ±Œ∂œåŒºŒµŒΩŒø Œ∫Œ±œÑŒ¨œÉœÑŒ∑ŒºŒ± (Œ£œÑŒ¨Œ¥ŒπŒø 1)",
      "shops.s2":"üè™ Œ£œÖŒΩŒµœÅŒ≥Œ±Œ∂œåŒºŒµŒΩŒ± Œ∫Œ±œÑŒ±œÉœÑŒÆŒºŒ±œÑŒ± (Œ£œÑŒ¨Œ¥ŒπŒø 2)",
      "shops.s3":"üè™ Œ£œÖŒΩŒµœÅŒ≥Œ±Œ∂œåŒºŒµŒΩŒ± Œ∫Œ±œÑŒ±œÉœÑŒÆŒºŒ±œÑŒ± (Œ£œÑŒ¨Œ¥ŒπŒø 3)",
      "attr.pick":"üó∫Ô∏è ŒëŒæŒπŒøŒ∏Œ≠Œ±œÑŒ± ‚Äî Œ¥ŒπŒ¨ŒªŒµŒæŒµ œÑŒøœÖŒª. Œ≠ŒΩŒ±:",
      "btn.submit":"Œ•œÄŒøŒ≤ŒøŒªŒÆ link",
      "btn.verify":"ŒàŒªŒµŒ≥œáŒøœÇ QR",
      "btn.markVisited":"Œ£ŒÆŒºŒ±ŒΩœÉŒ∑ ŒµœÄŒØœÉŒ∫ŒµœàŒ∑œÇ",
      "btn.reset":"Reset demo",
      "btn.claim":"Œ†Œ¨œÅŒµ œÑŒø Happy Box œÉŒøœÖ",
      "btn.howClaim":"Œ†œéœÇ ŒªŒµŒπœÑŒøœÖœÅŒ≥ŒµŒØ œÑŒø claim",
      "btn.close":"ŒöŒªŒµŒØœÉŒπŒºŒø",
      "btn.awesome":"Œ§Œ≠ŒªŒµŒπŒø!",
      "progress.title":"Œó Œ†œÅœåŒøŒ¥œåœÇ œÉŒøœÖ",
      "claim.note":"Œ§Œø claim ŒµŒΩŒµœÅŒ≥ŒøœÄŒøŒπŒµŒØœÑŒ±Œπ ŒºœåŒªŒπœÇ ŒøŒªŒøŒ∫ŒªŒ∑œÅœéœÉŒµŒπœÇ œÑŒø <strong>Œ£œÑŒ¨Œ¥ŒπŒø 1</strong>. ŒúœÄŒøœÅŒµŒØœÇ ŒΩŒ± œÉœÖŒΩŒµœáŒØœÉŒµŒπœÇ Œ≥ŒπŒ± œÉœÄŒ±ŒΩŒπœåœÑŒµœÅŒ± tiers!",
      "claim.mini":"Œ§Œø tier œÖœÄŒøŒªŒøŒ≥ŒØŒ∂ŒµœÑŒ±Œπ Œ±œÖœÑœåŒºŒ±œÑŒ± Œ±œÄœå œÑŒ± quests œÄŒøœÖ Œ≠œáŒµŒπœÇ ŒøŒªŒøŒ∫ŒªŒ∑œÅœéœÉŒµŒπ.",
      "victory.title":"ŒüŒªŒøŒ∫ŒªŒÆœÅœâœÉŒµœÇ œåŒªŒµœÇ œÑŒπœÇ Œ±œÄŒøœÉœÑŒøŒªŒ≠œÇ!",
      "victory.desc":"ŒàœÜœÑŒ±œÉŒµœÇ 100% œÄœÅœåŒøŒ¥Œø. ŒèœÅŒ± Œ≥ŒπŒ± œÑŒø Œ∫ŒøœÅœÖœÜŒ±ŒØŒø reward! üéâ",
      "cta.title":"Explore ‚Ä¢ Play ‚Ä¢ Win",
      "cta.desc":"ŒàŒΩŒ± œÜŒπŒªŒπŒ∫œå Œ∫œÖŒΩŒÆŒ≥Œπ Œ∏Œ∑œÉŒ±œÖœÅŒøœç œÉœÑŒ± ŒöŒ±ŒªŒ¨Œ≤œÅœÖœÑŒ±. Œ§ŒµŒªŒµŒØœâœÉŒµ œÑŒø Œ£œÑŒ¨Œ¥ŒπŒø 1 Œ≥ŒπŒ± ŒΩŒ± ŒæŒµŒ∫ŒªŒµŒπŒ¥œéœÉŒµŒπœÇ œÑŒø Œ£œÑŒ¨Œ¥ŒπŒø 2 Œ∫Œ±Œπ œÄŒÆŒ≥Œ±ŒπŒΩŒµ Œ≥ŒπŒ± œÄŒπŒø œÉœÄŒ¨ŒΩŒπŒ± Œ¥œéœÅŒ±!"
    }
  };
  function currentLang(){ return localStorage.getItem(LS_LANG)||'en'; }
  function applyLangToDom(){
    const lang=currentLang();
    document.querySelectorAll('[data-i18n]').forEach(el=>{
      const k=el.getAttribute('data-i18n'); const txt=T[lang][k]; if(txt) el.innerHTML=txt;
    });
  }

  /* ... œÖœÄœåŒªŒøŒπœÄŒ± functions Œ≥ŒπŒ± slider, verifySocial, verifyQR, scanInto, verifyAttractionByGeo, render Œ∫ŒªœÄ (œåœÄœâœÇ œÉŒøœÖ ŒµŒØœáŒ± Œ¥œéœÉŒµŒπ œÄœÅŒπŒΩ) ... */

  /* first paint */
  renderAll();
  </script>
</body>
</html>
